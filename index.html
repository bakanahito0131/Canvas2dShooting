
<html>
    <body style="margin:0"></body>
    <!-- Canvas ã¨ JavaScript ã§ 2Dã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° -->


    <!-- â†‘canvasè¦ç´  ã‚ˆã‚Šä¸Šã«ç½®ããŸã„è¦ç´ ã¨ã‹ -->
    <canvas id = "test">
    </canvas>

    <!--JavaScriptå®£è¨€-->
    <script>
        alert("WASDç§»å‹• Jæ’ƒã¤ Ké«˜é€Ÿ Lä½é€Ÿ")
        //å¤‰æ•°ã§ä½¿ã£ã¦ã‚‹ç•¥ s â†’ ã‚µã‚¤ã‚º w â†’ æ¨ªå¹… h â†’ é«˜ã• e â†’ CPU(enemy) x â†’ xåº§æ¨™ y â†’ yåº§æ¨™ c â†’ canvas b â†’ å¼¾(bullet) ãŸã¾ã«ã‹ã¶ã£ã¦ã‚‹ã®ã‚‚ã‚ã‚‹ã”ã‚ã‚“
        var canvas = document.getElementById("test")//id 'can'ã§ HTML ã¨ canvas ã‚’ ç´ã¥ã‘
        var context = canvas.getContext("2d")//ãã®ã¾ã¾ã§ok
        var iw = window.innerWidth
        var ih = window.innerHeight
        var cw = iw
        var ch = ih

        canvas.width = iw//canvasã‚µã‚¤ã‚ºã®æŒ‡å®š x
        canvas.height = ih//canvasã‚µã‚¤ã‚ºã®æŒ‡å®š y

        var py = 0//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã® y åº§æ¨™
        var px = 0//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã® x åº§æ¨™
        var ps = cw*0.05//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º x
        var pHP = 50//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®HP
        var score = 0//å¾—ç‚¹

        var ey = ch*0.1//CPU0xåº§æ¨™
        var ex = cw*0.5//CPU0yåº§æ¨™
        var es = cw*0.05//CPU0ã‚µã‚¤ã‚º
        var eHP = 50//CPU0ã®HP

        var ey2 = ch*0.1
        var ex2 = cw*0.5
        var es2 = cw*0.05
        var eHP2 = 75

        var ey3 = ch*0.2
        var ex3 = cw*0.2
        var ex3b = cw*0.8
        var es3 = cw*0.04
        var es3b = cw*0.04
        var eHP3 = 40
        var eHP3b = 40

        var ey4 = ch*0.07
        var ex4 = cw*0.5
        var es4 = cw*0.06
        var eHP4 = 100

        var bs = cw*0.02//å¼¾å¹•ã‚µã‚¤ã‚º

        var speed0 = 0//è‡ªæ©Ÿå¼¾å¹•é€Ÿåº¦
        var speed01 = cw*0.008//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®é€Ÿåº¦
        var eSpeed0 = 0//CPU0å¼¾å¹•ã‚¹ãƒ”ãƒ¼ãƒ‰
        var eSpeed2 = 0//CPU2å¼¾å¹•ã‚¹ãƒ”ãƒ¼ãƒ‰
        var eSpeed3 = 0
        var eSpeed3b = 0
        var eSpeed4 = 0
        var eSpeed4b = 0

        var ts = cw * 0.02//ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚º
        var tx = cw * 0.01//ãƒ†ã‚­ã‚¹ãƒˆ1 ä½ç½® x
        var ty = ch * 0.05//ãƒ†ã‚­ã‚¹ãƒˆ1 ä½ç½® y

        var tx2 = cw * 0.9//ãƒ†ã‚­ã‚¹ãƒˆ2 ä½ç½® x

        var tSec = 0//ã‚¿ã‚¤ãƒ  ç§’
        var tMin = 0//ã‚¿ã‚¤ãƒ  åˆ†
        var tSec2 = 0//ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ã‚’æœ€åˆã‹ã‚‰ç§’ã§ã‚‚æ¸¬ã£ã¦ãŠã„ãŸã‚‰ã‚¹ã‚³ã‚¢ã®è¨ˆç®—ãŒæ¥½

        var tSpace = cw*0.12//ã¾ã¨ã¾ã£ãŸãƒ†ã‚­ã‚¹ãƒˆåŒå¿—ã®é–“éš”

        var LR = "left"//CPU0ã®é€²è¡Œæ–¹å‘
        var LR2 = "left"//CPU1ã®é€²è¡Œæ–¹å‘
        var LR3 = "right"
        var LR3b = "right"
        var LR4 = "left"

        var r = 0//ä¹±æ•°0
        var r2 = 0
        var r3 = 0
        var r3a = Math.random()//eShot3() ã®å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°
        var r3b = Math.random()//eShot3b() ã®å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚°
        var r4 = 0

        var r4c = 0//eShot4b()ã‚’å‘¼ã³å‡ºã™ã‚¿ã‚¤ãƒŸãƒ³ã‚°åˆ¶å¾¡ã«ä½¿ã†
        var r4c2 = 0

        var r41 = 0//eShot4b() ã§æ’ƒã¤å¼¾å¹•ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°åˆ¶å¾¡ã«ä½¿ã†

        var rcolor = "yellow"

        var rmin = 1//CPU0ã®å¼¾å¹•ç™ºå°„ã‚¿ã‚¤ãƒŸãƒ³ã‚°æ—©ã„ã¨ã
        var rmax = 4//CPU0ã®å¼¾å¹•ç™ºå°„ã‚¿ã‚¤ãƒŸãƒ³ã‚°é…ã„ã¨ã
        var rmin2 = 1//CPU3,3bã®å¼¾å¹•ç™ºå°„ã‚¿ã‚¤ãƒŸãƒ³ã‚°
        var rmax2 = 2

        var rmin = 2
        var rmax = 3

        var rmin4 = 1//eShot4b()ã®å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚° æœ€å°å€¤
        var rmax4 = 2 //eShot4b()ã®å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚° æœ€å¤§å€¤

        var fire = true//CPU0 ã«å¼¾ã‚’æ’ƒãŸã›ã‚‹
        var fire2 = true//CPU2 ã«å¼¾ã‚’æ’ƒãŸã›ã‚‹
        var fire3 = true
        var fire3b = true
        var fire4 = false

        //åˆæœŸçŠ¶æ…‹ã§ã¯æŠ¼ã•ã‚Œã¦ãªã„ã®ã§ false
        //æ“ä½œã‚­ãƒ¼
        var W = false//å‰é€²
        var A = false//å·¦
        var S = false//å¾Œé€€
        var D = false//å³
        var J = false//æ’ƒã¤
        var K = false//é«˜é€Ÿç§»å‹•
        var L = false//ä½é€Ÿç§»å‹•
        var B = false//ãƒœãƒ 
        var Enter = false

        //æ®‹éª¸â†“
        var fix = 0//ãƒã‚°ä¿®æ­£ç”¨
        var test = 0//ãƒ†ã‚¹ãƒˆç”¨æ°—ã«ã—ãªã„ã§
        var test2 = 0

        var slow0 = 0//CPU3ã®å¼¾å¹•ã®å†…æ–œã‚ã«é€²ã‚€å¼¾å¹•ã«å¯¾ã—ã¦æ¸›é€Ÿã•ã›ã‚‹
        var slow1 = 0//CPU3b..
        var slow4 = 0//CPU4
        var slow41 = 0
        var slow44 = 0
        var slow47 = 0
        var slow410 = 0
        var slow413 = 0

        var skiw4b = 0

        var finished3 = true
        var finished3b = true

        var finished4 = true//eShot4ã®å‡¦ç†ãŒçµ‚äº†ã—ãŸã‹ã©ã†ã‹
        var finished4b = true
        var finished4b2 = true

        var pPower = 1

        var count0 = 0
        var count4 = 0
        var count4b = 0
        var count41 = 0

        var Lock = false
        var Lock2 = true
        var Lock3 = true
        var Lock3b = true
        var Lock4 = true

        var LockeShot3b = false
        var LockeShot3 = false

        var reverse3b = false
        var reverse3 = false

        var LockCoin = false

        window.onresize = function(){//ç”»é¢ã‚µã‚¤ã‚ºãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã®å€¤ã®æ›´æ–°
            iw = window.innerWidth
            ih = window.innerHeight
            canvas.width = iw
            canvas.height = ih
            cw = iw
            ch = ih
            py = 0//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã® y åº§æ¨™
            px = 0//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã® x åº§æ¨™
            ps = cw*0.05//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º x
            pHP = 50//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®HP
            score = 0//å¾—ç‚¹

            ey = ch*0.1//CPU0xåº§æ¨™
            ex = cw*0.5//CPU0yåº§æ¨™
            es = cw*0.05//CPU0ã‚µã‚¤ã‚º
            eHP = 50//CPU0ã®HP

            ey2 = ch*0.1
            ex2 = cw*0.5
            es2 = cw*0.05
            eHP2 = 75

            ey3 = ch*0.2
            ex3 = cw*0.2
            ex3b = cw*0.8
            es3 = cw*0.04
            es3b = cw*0.04
            eHP3 = 40
            eHP3b = 40

            ey4 = ch*0.07
            ex4 = cw*0.5
            es4 = cw*0.06
            eHP4 = 100

            bs = cw*0.02//å¼¾å¹•ã‚µã‚¤ã‚º

            speed0 = 0//è‡ªæ©Ÿå¼¾å¹•é€Ÿåº¦
            speed01 = cw*0.008//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®é€Ÿåº¦
            eSpeed0 = 0//CPU0å¼¾å¹•ã‚¹ãƒ”ãƒ¼ãƒ‰
            eSpeed2 = 0//CPU2å¼¾å¹•ã‚¹ãƒ”ãƒ¼ãƒ‰
            eSpeed3 = 0
            eSpeed3b = 0
            eSpeed4 = 0
            eSpeed4b = 0

            ts = cw * 0.02//ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚º
            tx = cw * 0.01//ãƒ†ã‚­ã‚¹ãƒˆ1 ä½ç½® x
            ty = ch * 0.05//ãƒ†ã‚­ã‚¹ãƒˆ1 ä½ç½® y

            tx2 = cw * 0.9//ãƒ†ã‚­ã‚¹ãƒˆ2 ä½ç½® x
            
        }

        //ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹
        document.addEventListener("keydown", function(event0){
            if(event0.key === "w")
            {
                W = true
            }
            if(event0.key === "a")
            {
                A = true
            }
            if(event0.key === "s")
            {
                S = true
            }
            if(event0.key === "d")
            {
                D = true
            }
            if(event0.key === "j")
            {
                shot0()
            }
            if(event0.key === "k")
            {
                K = true
                //kã§é«˜é€Ÿç§»å‹•
                speed01 = cw*0.015
            }
            if(event0.key === "l")
            {

                L = true
                //lã§ä½é€Ÿç§»å‹•
                speed01 = cw*0.002
            }

        })
        clear()
        LorR()
        Timer()
        roop2()
        function clear(){
            context.fillStyle = "black"
            context.fillRect(0,0,cw,ch)//ç”»é¢å…¨ä½“ã‚’ã‚¯ãƒªã‚¢

            if(eHP4 <= 0){

                    context.font = ts*5+"px bold serif"//æ–‡å­—ã‚µã‚¤ã‚ºã®å¤‰æ•°æŒ‡å®š
                    context.fillStyle = "white"
                    context.fillText("CLEAR!! :D",ts,ch*0.5-ts)
                }
            //ç”»é¢ã‚’ã‚¯ãƒªã‚¢ã—ç¶šã‘ãªã„ã¨å›³å½¢ã®è»Œè·¡ãŒæ®‹ã£ã¦ã—ã¾ã†
            if(pHP >= 0){
                requestAnimationFrame(clear)//requestAnimationFrame()ã¯é‡è¤‡ã—ãªã„é™ã‚Šè¤‡æ•°å›ä½¿ãˆã‚‹
            }
        }

        // ã‚­ãƒ¼ ãŒé›¢ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹
        document.addEventListener("keyup", function(event0){
            if(event0.key === "w")
            {
                W = false//falseã«ã—ã¦ true ã®æ™‚ã®ã¿å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã‚’æ­¢ã‚ã‚‹ ã“ã®å ´åˆã¯ 115è¡Œç›®ã® if(w == true){} ã®å‡¦ç†ã‚’æ­¢ã‚ã‚‹
            }
            if(event0.key === "a")
            {
                A = false
            }
            if(event0.key === "s")
            {
                S = false
            }
            if(event0.key === "d")
            {
                D = false
            }
            if(event0.key === "j")
            {
                J = false
            }
            if(event0.key === "k")
            {
                K = false
                //kã‚’é›¢ã—ãŸã‚‰é€šå¸¸ã‚¹ãƒ”ãƒ¼ãƒ‰ã«æˆ»ã™
                speed01 = cw*0.008
            }
            if(event0.key === "l")
            {
                L = false
                //lã‚’é›¢ã—ãŸã‚‰é€šå¸¸ã‚¹ãƒ”ãƒ¼ãƒ‰ã«æˆ»ã™
                speed01 = cw*0.008
            }
            if(event0.key === "Enter")
            {
                Enter = false
            }
        })

        function LorR() {//CPU0 ã‚’å·¦å³ã©ã£ã¡ã«é€²ã¾ã›ã‚‹ã‹
            if(Lock == false){
                function roop6()
                {
                    r = Math.random()//ä¹±æ•°ã‚’ç”Ÿæˆã™ã‚‹
                    if(r > 0.5){
                        LR = "right"
                    }else{
                        LR = "left"
                    }

                    setTimeout(roop6,3000)
                }
                roop6()
            }


            function roop12() 
            {
                if(px > ex2){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒ CPU2 ã‚ˆã‚Šå³ã«ã„ãŸã‚‰
                    LR2 = "right"//å³ã«ç§»å‹•ã™ã‚‹
                }else{//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒ CPU2 ã‚ˆã‚Šå·¦ã«ã„ãŸã‚‰
                    LR2 = "left"//å·¦ã«ç§»å‹•ã™ã‚‹
                }
                if(Lock2 == false){//CPU2ãŒç”Ÿãã¦ã„ãŸã‚‰
                    setTimeout(roop12,1000)
                }
            }
            roop12()
        }

        function Timer() {//ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã©ã®ãã‚‰ã„ã®æ™‚é–“ãŒçµŒéã—ãŸã‹æ•°ãˆã‚‹
            function roop8(){
                if(tSec < 60){
                    tSec = tSec + 1//60ç§’æœªæº€ãªã‚‰ç§’æ•°ã‚’ 1 å¢—ã‚„ã™
                    tSec2 = tSec2 + 1//ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ã‚’æœ€åˆã‹ã‚‰ç§’ã§ã‚‚æ¸¬ã£ã¦ãŠã„ãŸã‚‰ã‚¹ã‚³ã‚¢ã®è¨ˆç®—ãŒæ¥½
                }else{
                    tSec = 0//60ç§’ã«ãªã£ãŸã‚‰ s ç§’ ã‚’ãƒªã‚»ãƒƒãƒˆ
                    tMin = tMin + 1//60ç§’ã«ãªã£ãŸã‚‰ m åˆ† ã‚’ 1 å¢—ã‚„ã™
                }

                if(Lock == false){
                    //â†“CPU0 ã®å¼¾å¹•ç™ºå°„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¶å¾¡
                    if(r2 == 0){//r2ã®å€¤ã‚’æ¸›ã‚‰ã—ã¦ã„ã£ã¦ 0 ã«ãªã£ãŸã‚‰ã‚‚ã†ä¸€åº¦ r2 ã‚’ ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã™ã‚‹ ã“ã®æ™‚ã« CPU0 ã®å¼¾å¹•ã‚’æ’ƒã¤
                        fire = true
                        r2 = Math.floor(Math.random() * (rmax + 1 - rmin)) + rmin//æœ€å¤§æœ€å°ã‚’æŒ‡å®šã—ã¦ä¹±æ•°ã‚’ç”Ÿæˆ
                    }else{
                        fire = false
                    r2 = r2 - 1//0 ã«ãªã‚‹ã¾ã§å€¤ã‚’æ¸›ã‚‰ã—ç¶šã‘ã‚‹
                    }

                    if(fire == true && Lock == false){//CPU0ãŒã¾ã ç”Ÿãã¦ãŸã‚‰æ’ƒã¤
                        eShot0()
                    }
                }


                if(Lock2 == false){
                    //â†“CPU2 ã®å¼¾å¹•ç™ºå°„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¶å¾¡
                    if(r3 == 0){//r3ã®å€¤ã‚’æ¸›ã‚‰ã—ã¦ã„ã£ã¦ 0 ã«ãªã£ãŸã‚‰ã‚‚ã†ä¸€åº¦ r3 ã‚’ ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã™ã‚‹ ã“ã®æ™‚ã« CPU2 ã®å¼¾å¹•ã‚’æ’ƒã¤
                        fire2 = true
                        r3 = Math.floor(Math.random() * (rmax2 + 1 - rmin2)) + rmin2//æœ€å¤§æœ€å°ã‚’æŒ‡å®šã—ã¦ä¹±æ•°ã‚’ç”Ÿæˆ

                    }else{
                        fire2 = false
                    r3 = r3 - 1//0 ã«ãªã‚‹ã¾ã§å€¤ã‚’æ¸›ã‚‰ã—ç¶šã‘ã‚‹
                    }
                    if(fire2 == true && Lock2 == false){//CPU2ãŒã¾ã ç”Ÿãã¦ãŸã‚‰æ’ƒã¤
                        eShot2()
                    }

                }
                rcolor= "rgb(" + (~~(256 * Math.random())) + ", " + (~~(256 * Math.random())) + ", " + (~~(256 * Math.random())) + ")"
                setTimeout(roop8,1000)

            }
            roop8()
        }

        function timingA(){//CPU3ã®æ’ƒã¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®åˆ¶å¾¡
            if(Lock3 == false){
                if(finished3 == true){
                r3a = Math.random()
                eShot3()
                }
                setTimeout(timingA,r3a*1000)
            }
        }

        function timingB(){//CPU3ã®æ’ƒã¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®åˆ¶å¾¡
            if(Lock3b == false){
                if(finished3b == true){
                r3b = Math.random()
                eShot3b()
                }
                setTimeout(timingB,r3b*1000)
            }
        }


        function timing4(){
            if(finished4 == true && count4 == 0){
                eShot4()
            }

            setTimeout(timing4,100)
        }

        function timing4b(){
            if(Lock4 == false){
                r4c = Math.random()//1ä»¥ä¸‹ã®ä¹±æ•°ã®ç”Ÿæˆ
                if(finished4 == true && finished4b == true){//eShot4()ãŒä¸€å›çµ‚ã‚ã£ãŸã‚‰ count4 = 1 ã«ãªã‚‹
                    eShot4b()
                }

            }
            setTimeout(timing4b,1000*r4c)//1000ms*1ä»¥ä¸‹ã®ä¹±æ•° mså¾Œã«å‘¼ã³å‡ºã™
        }

        function timing4b2(){
            if(Lock4 == false){
                r4c2 = Math.random()//1ä»¥ä¸‹ã®ä¹±æ•°ã®ç”Ÿæˆ
                if(finished4 == true && finished4b2 == true){//eShot4()ãŒä¸€å›çµ‚ã‚ã£ãŸã‚‰ count4 = 1 ã«ãªã‚‹
                    eShot4b2()
                }

            }
            setTimeout(timing4b2,500*r4c2)//1000ms*1ä»¥ä¸‹ã®ä¹±æ•° mså¾Œã«å‘¼ã³å‡ºã™
        }


        function LorR4() {
            function roop16(){
                if(A == true){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒå·¦
                    LR4 = "right"//CPU4 ã¯é€†å‘ãã®å³ww
                }else{
                    LR4 = "left"
                }
                setTimeout(roop16,1000) 
            }
            roop16()

        }

        function shot0() {//è‡ªæ©Ÿå¼¾å¹•ç”¨ã®é–¢æ•° j ãŒæŠ¼ã•ã‚ŒãŸã‚‰å‹•ä½œã™ã‚‹
            let speed1 = speed0//ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•° let ã«ã—ã¦å‡¦ç†ã®å®Ÿè¡Œä¸­ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã®ã‚’é˜²ããŸã„!!
            let bx2 = px//ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã«ã™ã‚‹ã“ã¨ã§è‡ªæ©Ÿå¼¾å¹•ãŒè‡ªæ©Ÿã«è¿½å¾“ã—ãªããªã‚‹!!
            let by2 = py//ã“ã‚Œæ€ã„ã¤ãã®ã«ã‚ã£ã¡ã‚ƒè‹¦åŠ´ã—ãŸï¼ˆï¼›Â´Ğ´ï½€ï¼‰ã‚
            function roop0(){
                context.fillStyle = "skyblue"
                speed1 = speed1 + cw*0.02//è‡ªæ©Ÿå¼¾å¹•é€Ÿåº¦
                context.fillRect(bx2,by2-speed1,bs,bs)


                //CPU0ã«å¯¾ã™ã‚‹è‡ªæ©Ÿå¼¾å¹•ã®å½“ãŸã‚Šåˆ¤å®šâ†“
                if(Lock == false){//CPU0ãŒç”Ÿãã¦ã‚‹ãªã‚‰
                    if(by2-speed1 <= ey+es && bx2+bs >= ex)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ <= CPU0 yåº§æ¨™ + CPU0ã‚µã‚¤ã‚º && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU0 xåº§æ¨™
                    {
                        if(by2-speed1+bs >= ey && bx2 <= ex+es)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU0 yåº§æ¨™ && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ <= CPU0 x åº§æ¨™ + CPU0ã‚µã‚¤ã‚º
                        {
                            if(eHP <= 0){
                                es = 0//CPU0 ã® HP ãŒ 0 ã«ãªã£ãŸã‚‰* CPU0 ã‚µã‚¤ã‚º ã‚’ 0 ã«ã—ã¦è¦‹ãˆãªãã™ã‚‹
                                if(es == 0){
                                    Lock = true
                                    Lock2 = false
                                }
                                LorR()//æ¬¡ã«å‘¼ã³å‡ºã™ CPU2 ã®ãŸã‚ã«ã‚‚ã†ä¸€åº¦ LorR() ã‚’å‘¼ã³å‡ºã™ã€‚169è¡Œç›®

                            }else{
                                eHP = eHP - pPower//CPU0 ã«è‡ªæ©Ÿå¼¾å¹•ãŒå½“ãŸã£ãŸã‚‰ CPU0 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹
                                score = score + 1//CPU0 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸã‚‰ã‚¹ã‚³ã‚¢ã‚’å¢—ã‚„ã™
                            }
                        }
                    }
                }


                //CPU2ã«å¯¾ã™ã‚‹è‡ªæ©Ÿå¼¾å¹•ã®å½“ãŸã‚Šåˆ¤å®šâ†“
                if(Lock2 == false){
                    if(by2-speed1 <= ey2+es2 && bx2+bs >= ex2)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ <= CPU2 yåº§æ¨™ + CPU2ã‚µã‚¤ã‚º && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU2 xåº§æ¨™
                    {
                        if(by2-speed1+bs >= ey2 && bx2 <= ex2+es2)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU2 yåº§æ¨™ && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ <= CPU2 x åº§æ¨™ + CPU2ã‚µã‚¤ã‚º
                        {
                            if(eHP2 <= 0){
                                es2 = 0//CPU2 ã® HP ãŒ 0 ã«ãªã£ãŸã‚‰* CPU2 ã‚µã‚¤ã‚º ã‚’ 0 ã«ã—ã¦è¦‹ãˆãªãã™ã‚‹
                                LorR4()//æ¬¡ã«å‘¼ã³å‡ºã™ CPU? ã®ãŸã‚ã«ã‚‚ã†ä¸€åº¦ LorR() ã‚’å‘¼ã³å‡ºã™ã€‚169è¡Œç›®
                                Lock3 = false
                                Lock3b = false
                                timingA()
                                timingB()
                                Lock2 = true
                            }else{
                                eHP2 = eHP2 - pPower//CPU2 ã«è‡ªæ©Ÿå¼¾å¹•ãŒå½“ãŸã£ãŸã‚‰ CPU2 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹
                                score = score + 1//CPU2 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸã‚‰ã‚¹ã‚³ã‚¢ã‚’å¢—ã‚„ã™
                            }
                        }
                    }
                }

                if(Lock3 == false){
                    //CPU3ã«å¯¾ã™ã‚‹è‡ªæ©Ÿå¼¾å¹•ã®å½“ãŸã‚Šåˆ¤å®šâ†“
                    if(by2-speed1 <= ey3+es3 && bx2+bs >= ex3)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ <= CPU3 yåº§æ¨™ + CPU3ã‚µã‚¤ã‚º && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU3 xåº§æ¨™
                    {
                        if(by2-speed1+bs >= ey3 && bx2 <= ex3+es3)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU3 yåº§æ¨™ && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ <= CPU3 x åº§æ¨™ + CPU3ã‚µã‚¤ã‚º
                        {
                            if(eHP3 <= 0){
                                es3 = 0//CPU3 ã® HP ãŒ 0 ã«ãªã£ãŸã‚‰* CPU3 ã‚µã‚¤ã‚º ã‚’ 0 ã«ã—ã¦è¦‹ãˆãªãã™ã‚‹
                                if(Lock3b == true){
                                    timing4()
                                    timing4b()
                                    timing4b2()
                                    Lock4 = false
                                }
                                Lock3 = true
                            }else{
                                eHP3 = eHP3 - pPower//CPU3 ã«è‡ªæ©Ÿå¼¾å¹•ãŒå½“ãŸã£ãŸã‚‰ CPU3 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹
                                score = score + 1//CPU3 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸã‚‰ã‚¹ã‚³ã‚¢ã‚’å¢—ã‚„ã™
                            }
                        }
                    }
                }
                if(Lock3b == false){
                    //CPU3bã«å¯¾ã™ã‚‹è‡ªæ©Ÿå¼¾å¹•ã®å½“ãŸã‚Šåˆ¤å®šâ†“
                    if(by2-speed1 <= ey3+es3b && bx2+bs >= ex3b)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ <= CPU3b yåº§æ¨™ + CPU3bã‚µã‚¤ã‚º && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU3b xåº§æ¨™
                    {
                        if(by2-speed1+bs >= ey3 && bx2 <= ex3b+es3b)//è‡ªæ©Ÿå¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= CPU3 yåº§æ¨™ && è‡ªæ©Ÿå¼¾å¹• x åº§æ¨™ <= CPU3 x åº§æ¨™ + CPU3ã‚µã‚¤ã‚º
                        {
                            if(eHP3b <= 0){
                                es3b = 0//CPU3 ã® HP ãŒ 0 ã«ãªã£ãŸã‚‰* CPU3 ã‚µã‚¤ã‚º ã‚’ 0 ã«ã—ã¦è¦‹ãˆãªãã™ã‚‹
                                if(Lock3 == true){
                                    timing4()
                                    timing4b()
                                    timing4b2()
                                    Lock4 = false
                                }
                                Lock3b = true
                            }else{
                                eHP3b = eHP3b - pPower//CPU3 ã«è‡ªæ©Ÿå¼¾å¹•ãŒå½“ãŸã£ãŸã‚‰ CPU3 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹
                                score = score + 1//CPU3 ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸã‚‰ã‚¹ã‚³ã‚¢ã‚’å¢—ã‚„ã™
                            }
                        }
                    }
                }

                if(Lock4 == false){
                    if(by2-speed1 < ey4+es4 && by2-speed1+bs > ey4){
                        if(bx2+bs > ex4 && bx2 < ex4+es4){
                            eHP4 -= pPower
                            score = score+1
                        }
                        if(eHP4 <= 0){
                            if(fix == 0){
                                scoreOutput()
                                fix=1//äºŒå›ç›®ã‚’å‘¼ã³å‡ºã•ãªã„
                                alert("ãŠã‚ã§ã¨ã†ğŸ‘ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ")
                            }
                            Lock4 = true
                        }
                    }
                }

                if(by2-speed1 > 0){
                requestAnimationFrame(roop0)//stAnimationFrame() ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®æ›´æ–°æ¯ã«å‡¦ç†ã‚’ã™ã‚‹ãŸã‚ã«ä½¿ã†
                //ã“ã‚Œã¯ã¨ã¦ã‚‚æ»‘ã‚‰ã‹ã«å‹•ã ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ãªã‚‰ setTimeout() ã¨ã‹ã‚ˆã‚Šã‚‚ã“ã£ã¡ãŒè‰¯ã„ã¨æ€ã†ã€‚
                }
            }
            roop0()
        }

        function eShot0() {//CPU0 ã®å¼¾å¹•
            //ä¸€å¿œ let ä½¿ã£ãŸ
            ebx = ex//CPU0å¼¾å¹•åº§æ¨™ x åˆå›ã®ã¿ãƒ­ãƒ¼ãƒ‰
            let eby = ey+es //CPU0 y åº§æ¨™ + CPU0ã‚µã‚¤ã‚º = CPU0å¼¾å¹•åº§æ¨™ y åˆå›ã®ã¿ãƒ­ãƒ¼ãƒ‰
            eSpeed0 = 0
            function bulletAnimation(){
                if(eby+eSpeed0 <= ch && Lock == false){//å¼¾ãŒç”»é¢ã‚’é£›ã³å‡ºã—ã¦ãªã‹ã£ãŸã‚‰
                    eSpeed0 = eSpeed0 + cw*0.006//å¼¾å¹•ã®ã‚¹ãƒ”ãƒ¼ãƒ‰
                    context.fillStyle = "orange"
                    context.fillRect(ebx,eby+eSpeed0,bs,bs)//ä¸€ã¤ã‚ã®å¼¾å¹•æç”»
                    if(eSpeed0 > ch*0.2){//ä¸€ã¤ç›®ã®å¼¾å¹•ãŒ ch*0.2 ã®yåº§æ¨™ ã‚’é€šã‚ŠéããŸã‚‰äºŒã¤ç›®ã‚’ç™ºå°„
                        context.fillRect(ebx,eby+eSpeed0-ch*0.2,bs,bs)
                    }

                    //â†“ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«å¯¾ã™ã‚‹CPU0ã®å¼¾å¹•å½“ãŸã‚Šåˆ¤å®š
                    if(eby+eSpeed0+bs >= py && eby+eSpeed0 <= py+ps){//CPU0å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU0å¼¾å¹• y åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx+bs >= px && ebx <= px+ps){//CPU0å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 1

                        }
                    }
                    //â†“ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«å¯¾ã™ã‚‹CPU0ã®å¼¾å¹•å½“ãŸã‚Šåˆ¤å®š
                    if(eby+eSpeed0+bs-ch*0.2 >= py && eby+eSpeed0-ch*0.2 <= py+ps){//CPU0å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º - é…å»¶ >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU0å¼¾å¹• y åº§æ¨™ -é…å»¶ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx+bs >= px && ebx <= px+ps){//CPU0å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 1

                        }
                    }
                    if(pHP >= 0){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒç”Ÿãã¦ã„ã‚‹é™ã‚Šå‡¦ç†ã‚’ç¶šã‘ã‚‹
                        requestAnimationFrame(bulletAnimation)
                    }



                }else{
                    eSpeed0 = eSpeed0
                }
            }

            bulletAnimation()//åˆå›ãƒ­ãƒ¼ãƒ‰
        }

        function eShot2() {//CPU2 ã®å¼¾å¹•
            ebx2 = ex2//CPU2å¼¾å¹•åº§æ¨™ x åˆå›ã®ã¿ãƒ­ãƒ¼ãƒ‰
            let eby2 = ey2+es2//CPU2 y åº§æ¨™ + CPU2ã‚µã‚¤ã‚º = CPU2å¼¾å¹•åº§æ¨™ y åˆå›ã®ã¿ãƒ­ãƒ¼ãƒ‰
            eSpeed2 = 0
            function bulletAnimation2(){
                if(eby2+eSpeed2-ch*0.4 <= ch && eHP2 >= 0){//å¼¾ãŒç”»é¢ã‚’é£›ã³å‡ºã—ã¦ãªã‹ã£ãŸã‚‰
                    eSpeed2 = eSpeed2 + cw*0.01//å¼¾å¹•ã®ã‚¹ãƒ”ãƒ¼ãƒ‰
                    context.fillStyle = "red"
                    context.fillRect(ebx2,eby2+eSpeed2,bs,bs)//ä¸€ã¤ã‚ã®å¼¾å¹•æç”»
                    if(eSpeed2 > ch*0.2){//ä¸€ã¤ç›®ã®å¼¾å¹•ãŒ ch*0.2 ã®yåº§æ¨™ ã‚’é€šã‚ŠéããŸã‚‰äºŒã¤ç›®ã‚’ç™ºå°„
                        context.fillRect(ebx2,eby2+eSpeed2-ch*0.2,bs,bs)
                        context.fillRect(ebx2-eSpeed2*0.5,eby2+eSpeed2-ch*0.2,bs,bs)//å·¦æ–œã‚å¼¾å¹•
                        context.fillRect(ebx2+eSpeed2*0.5,eby2+eSpeed2-ch*0.2,bs,bs)//å³æ–œã‚å¼¾å¹•
                    }
                    if(eSpeed2 > ch*0.4){
                        context.fillRect(ebx2,eby2+eSpeed2-ch*0.4,bs,bs)
                    }

                    //â†“ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«å¯¾ã™ã‚‹CPU2ã®å¼¾å¹•å½“ãŸã‚Šåˆ¤å®š
                    if(eby2+eSpeed2+bs >= py && eby2+eSpeed2 <= py+ps){//CPU2å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU2å¼¾å¹• y åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx2+bs >= px && ebx2 <= px+ps){//CPU2å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 2

                        }
                    }
                    //â†“ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«å¯¾ã™ã‚‹CPU2ã®å¼¾å¹•å½“ãŸã‚Šåˆ¤å®š
                    if(eby2+eSpeed2+bs-ch*0.2 >= py && eby2+eSpeed2-ch*0.2 <= py+ps){//CPU2å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º - é…å»¶ >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU2å¼¾å¹• y åº§æ¨™ -é…å»¶ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx2+bs >= px && ebx2 <= px+ps){//CPU2å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 2

                        }
                    }
                    if(eby2+eSpeed2+bs-ch*0.4 >= py && eby2+eSpeed2-ch*0.2 <= py+ps){//CPU2å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º - é…å»¶ >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU2å¼¾å¹• y åº§æ¨™ -é…å»¶ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx2+bs >= px && ebx2 <= px+ps){//CPU2å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 2

                        }
                    }
                    if(eby2+eSpeed2+bs-ch*0.2 >= py && eby2+eSpeed2-ch*0.2 <= py+ps){//CPU2å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º - é…å»¶ >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU2å¼¾å¹• y åº§æ¨™ -é…å»¶ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx2+bs-eSpeed2*0.5 >= px && ebx2-eSpeed2*0.5 <= px+ps){//CPU2å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 2

                        }
                    }
                    if(eby2+eSpeed2+bs-ch*0.2 >= py && eby2+eSpeed2-ch*0.2 <= py+ps){//CPU2å¼¾å¹• y åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º - é…å»¶ >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ && CPU2å¼¾å¹• y åº§æ¨™ -é…å»¶ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ y åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                        if(ebx2+bs+eSpeed2*0.5 >= px && ebx2+eSpeed2*0.5 <= px+ps){//CPU2å¼¾å¹• x åº§æ¨™ + å¼¾å¹•ã‚µã‚¤ã‚º >= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ && CPUå¼¾å¹• x åº§æ¨™ <= ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ x åº§æ¨™ + ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
                            pHP = pHP - 2

                        }
                    }
                    if(pHP >= 0 && Lock2 == false){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒç”Ÿãã¦ã„ã‚‹é™ã‚Šå‡¦ç†ã‚’ç¶šã‘ã‚‹
                        requestAnimationFrame(bulletAnimation2)
                    }
                }else{
                    eSpeed2 = eSpeed2
                }
            }

            bulletAnimation2()//åˆå›ãƒ­ãƒ¼ãƒ‰
        }

        function eShot3(){ 
            eby3Locked = ey3+es3//å›ºå®šå€¤
            eby3 = ey3+es3//eby3 EnemyBullet Y 3 es3 EnemySize 3
            ebx3 = ex3
            slow0 = 0
            reverse3 = false
            LockeShot3 = false
            function bulletAnimation3(){
                if(Lock3 == false && LockeShot3 == false){
                    if(eby3-ch*0.5+ey3 > ch){//å¼¾ãŒç”»é¢å¤–
                        reverse3 = true
                    }

                    if(reverse3 == true){
                        if(eby3 < 0){
                            reverse3 = false
                            LockeShot3 = true//bulletAnimation3bã®ãƒ«ãƒ¼ãƒ—ã‚’æ­¢ã‚ã‚‹
                        }
                    }

                    if(reverse3 == false){
                        eby3 += cw*0.004
                        slow0 -= cw*0.002
                    }else{
                        eby3 -= cw*0.004//å¼¾ã®é€²è¡Œæ–¹å‘ã‚’é€†ã«ã™ã‚‹
                        slow0 += cw*0.002
                    }
                    context.fillStyle = "deepskyblue"
                    context.fillRect(ebx3,eby3,bs,bs)//ä¸‹
                    context.fillRect(ebx3-eby3+eby3Locked-slow0,eby3+slow0,bs,bs)//å·¦ä¸‹
                    context.fillRect(ebx3-eby3+eby3Locked,eby3Locked,bs,bs)//å·¦
                    context.fillRect(ebx3+eby3-eby3Locked+slow0,eby3+slow0,bs,bs)//å³ä¸‹
                    context.fillRect(ebx3+eby3-eby3Locked,eby3Locked,bs,bs)//å³
                    context.fillRect(ebx3,2*eby3Locked-eby3,bs,bs)//æ„å‘³ã‚ã‹ã‚‰ã‚“ã‘ã© *2 ã›ãªãƒã‚°ã‚‹..ä¸Š
                    context.fillRect(ebx3-eby3+eby3Locked-slow0,2*eby3Locked-eby3-slow0,bs,bs)//æ„å‘³ã‚ã‹ã‚‰ã‚“ã‘ã© *2 ã›ãªãƒã‚°ã‚‹..å·¦ä¸Š
                    context.fillRect(ebx3+eby3-eby3Locked+slow0,2*eby3Locked-eby3-slow0,bs,bs)//å³ä¸Š

                    if(eby3+bs > py && eby3 < py+ps)//ä¸‹
                    {
                        if(ebx3+bs > px && ebx3 < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(eby3+bs+slow0 > py && eby3+slow0 < py+ps)//å·¦ä¸‹
                    {
                        if(ebx3+bs-eby3+eby3Locked-slow0 > px && ebx3-eby3+eby3Locked-slow0 < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(eby3Locked+bs > py && eby3Locked < py+ps)//å·¦
                    {
                        if(ebx3+bs-eby3+eby3Locked > px && ebx3-eby3+eby3Locked < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(eby3+bs+slow0 > py && eby3+slow0 < py+ps)//å³ä¸‹
                    {
                        if(ebx3+bs+eby3-eby3Locked+slow0 > px && ebx3+eby3-eby3Locked+slow0 < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(eby3Locked+bs > py && eby3Locked < py+ps)//å³
                    {
                        if(ebx3+bs+eby3-eby3Locked > px && ebx3+eby3-eby3Locked < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(2*eby3Locked-eby3+bs > py && 2*eby3Locked-eby3 < py+ps)//ä¸Š
                    {
                        if(ebx3+bs > px && ebx3 < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(2*eby3Locked-eby3-slow0+bs > py && 2*eby3Locked-eby3-slow0 < py+ps)//å·¦ä¸Š
                    {
                        if(ebx3+bs-eby3+eby3Locked-slow0 > px && ebx3-eby3+eby3Locked-slow0 < px+ps)
                        {
                            pHP-=1
                        }
                    }
                    if(2*eby3Locked-eby3-slow0+bs > py && 2*eby3Locked-eby3-slow0 < py+ps)//ä¸‹
                    {
                        if(ebx3+bs+eby3-eby3Locked+slow0 > px && ebx3+eby3-eby3Locked+slow0 < px+ps)
                        {
                            pHP-=1
                        }
                    }

                    finished3 = false
                    requestAnimationFrame(bulletAnimation3)//requestAnimationFrame() ã¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã•ã›ã‚‹é–¢æ•°ã®ä¸­ã§è‰¯ã„ï¼é–¢æ•°ã®å¤–ã«æ›¸ãå¿…è¦ã¯ãªã„

                }else{
                    eby3=0
                    slow0 = 0
                    finished3 = true
                }

            }
            bulletAnimation3()
        }
        function eShot3b(){
            eby3b = ey3+es3b
            ebx3b = ex3b
            eby3bLocked = ey3+es3b//å›ºå®šå€¤
            slow1 = 0
            reverse3b = false
            LockeShot3b = false
            function bulletAnimation3b(){
                if(Lock3b == false && LockeShot3b == false){
                    if(eby3b-ch*0.5+ey3 > ch){//å¼¾ãŒç”»é¢å¤–
                        reverse3b = true
                    }

                    if(reverse3b == true){
                        if(eby3b < 0){
                            reverse3b = false
                            LockeShot3b = true//bulletAnimation3bã®ãƒ«ãƒ¼ãƒ—ã‚’æ­¢ã‚ã‚‹
                        }
                    }

                    if(reverse3b == false){
                        eby3b += cw*0.004
                        slow1 -= cw*0.002
                    }else{
                        eby3b -= cw*0.004//å¼¾ã®é€²è¡Œæ–¹å‘ã‚’é€†ã«ã™ã‚‹
                        slow1 += cw*0.002
                    }

                    context.fillStyle = "deepskyblue"
                    context.fillRect(ebx3b,eby3b,bs,bs)

                    if(eby3b+bs > py && eby3b < py+ps){
                        if(ebx3b+bs > px && ebx3b < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b-eby3b+eby3bLocked-slow1,eby3b+slow1,bs,bs)

                    if(eby3b+slow1+bs > py && eby3b+slow1 < py+ps){
                        if(ebx3b-eby3b+eby3bLocked-slow1+bs > px && ebx3b-eby3b+eby3bLocked-slow1 < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b-eby3b+eby3bLocked,eby3bLocked,bs,bs)

                    if(eby3bLocked+bs > py && eby3bLocked < py+ps){
                        if(ebx3b-eby3b+eby3bLocked+bs > px && ebx3b-eby3b+eby3bLocked < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b+eby3b-eby3bLocked+slow1,eby3b+slow1,bs,bs)

                    if(eby3b+slow1+bs > py && eby3b+slow1 < py+ps){
                        if(ebx3b+eby3b-eby3bLocked+slow1+bs > px && ebx3b+eby3b-eby3bLocked+slow1 < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b+eby3b-eby3bLocked,eby3bLocked,bs,bs)

                    if(eby3Locked+bs > py && eby3bLocked < py+ps){
                        if(ebx3b+eby3b-eby3bLocked+bs > px && ebx3b+eby3b-eby3bLocked < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b,2*eby3bLocked-eby3b,bs,bs)//æ„å‘³ã‚ã‹ã‚‰ã‚“ã‘ã© *2 ã›ãªãƒã‚°ã‚‹..

                    if(2*eby3bLocked-eby3b+bs > py && 2*eby3bLocked-eby3b < py+ps){
                        if(ebx3b+bs > px && ebx3b < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b-eby3b+eby3bLocked-slow1,2*eby3bLocked-eby3b-slow1,bs,bs)//æ„å‘³ã‚ã‹ã‚‰ã‚“ã‘ã© *2 ã›ãªãƒã‚°ã‚‹..

                    if(2*eby3bLocked-eby3b-slow1+bs > py && 2*eby3bLocked-eby3b-slow1 < py+ps){
                        if(ebx3b-eby3b+eby3Locked-slow1+bs > px && ebx3b-eby3b+eby3Locked-slow1 < px+ps){
                            pHP-=1
                        }
                    }

                    context.fillRect(ebx3b+eby3b-eby3bLocked+slow1,2*eby3bLocked-eby3b-slow1,bs,bs)

                    if(2*eby3bLocked-eby3b-slow1+bs > py && 2*eby3bLocked-eby3b-slow1 < py+ps){
                        if(ebx3b+eby3b-eby3bLocked+slow1+bs > px && ebx3b+eby3b-eby3bLocked+slow1 < px+ps){
                            pHP-=1
                        }
                    }

                    finished3b = false
                    requestAnimationFrame(bulletAnimation3b)//requestAnimationFrame() ã¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã•ã›ã‚‹é–¢æ•°ã®ä¸­ã§è‰¯ã„ï¼é–¢æ•°ã®å¤–ã«æ›¸ãå¿…è¦ã¯ãªã„

                }else{
                    finished3b = true
                    eby3b=0
                    slow1 = 0
                }

            }
            bulletAnimation3b()
        }

        function eShot4(){
            ebx4 = ex4
            eby4 = ey4
            eSpeed4 = 0
            slow4 = 0
            slow41 = 0
            slow44 = 0
            slow47 = 0
            slow410 = 0
            slow413 = 0
            r401 = Math.floor( Math.random() * 3 ) + 1;//æœ€å¤§3æœ€å°1ã‚’æŒ‡å®šã—ã¦ä¹±æ•°ã‚’ç”Ÿæˆ
            count401 = 1

            function bulletAnimation4() {
                if(eby4+eSpeed4 < ch){//ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼èŠ±ç«
                    eSpeed4 += cw*0.001
                    finished4 = false
                    context.fillStyle = rcolor
                    context.fillRect(ebx4,eby4+eSpeed4,bs,bs)//ä¸‹

                    if(eby4+eSpeed4+bs > py && eby4+eSpeed4 < py+ps){
                        if(ebx4+bs > px && ebx4 < px+ps){
                            pHP-=1
                        }
                    }
                    if(r401 <= 0){
                        slow4 += cw*0.001
                        count401 -= 0.016
                        context.fillRect(ebx4,eby4+eSpeed4-slow4*2,bs,bs)//ä¸Š eSpeed4-slow4*2 = -eSpeed4

                        if(eby4+eSpeed4-slow4*2+bs > py && eby4+eSpeed4-slow4*2 < py+ps){
                            if(ebx4+bs > px && ebx4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4+slow4,eby4+eSpeed4-slow4,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                        if(eby4+eSpeed4-slow4+bs > py && eby4+eSpeed4-slow4 < py+ps){
                            if(ebx4+slow4+bs > px && ebx4+slow4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4+slow4/2,eby4+eSpeed4-slow4/2*3,bs,bs)//å³ä¸Š eSpeed4-slow/2*3 = -eSpeed4/2

                        if(eby4+eSpeed4-slow4/2*3+bs > py && eby4+eSpeed4-slow4/2*3 < py+ps){
                            if(ebx4+slow4/2+bs > px && ebx4+slow4/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4+slow4/2,eby4+eSpeed4-slow4/2,bs,bs)//å³ä¸‹

                        if(eby4+eSpeed4-slow4/2+bs > py && eby4+eSpeed4-slow4/2 < py+ps){
                            if(ebx4+slow4/2+bs > px && ebx4+slow4/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4-slow4,eby4+eSpeed4-slow4,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                        if(eby4+eSpeed4-slow4+bs > py && eby4+eSpeed4-slow4 < py+ps){
                            if(ebx4-slow4+bs > px && ebx4-slow4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4-slow4/2,eby4+eSpeed4-slow4/2*3,bs,bs)//å·¦ä¸Š

                        if(eby4+eSpeed4-slow4/2*3+bs > py && eby4+eSpeed4-slow4/2*3 < py+ps){
                            if(ebx4-slow4/2+bs > px && ebx4-slow4/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4-slow4/2,eby4+eSpeed4-slow4/2,bs,bs)//å·¦ä¸‹

                        if(eby4+eSpeed4-slow4/2+bs > py && eby4+eSpeed4-slow4/2 < py+ps){
                            if(ebx4-slow4/2+bs > px && ebx4-slow4/2 < px+ps){
                                pHP-=1
                            }
                        }

                        if(count401 <= 0){
                            slow41+=cw*0.001
                            //ä¸Š----------
                                    context.fillStyle = "darkviolet"
                                //ä¸Šãªã—
                                //ä¸‹
                                    context.fillRect(ebx4,eby4+eSpeed4-slow4*2+slow41*2,bs,bs) //-slow4*2 + slow41*2 = +eSpeed4 ä¸‹

                                    if(eby4+bs+eSpeed4-slow4*2+slow41*2 > py && eby4+eSpeed4-slow4*2+slow41*2 < py+ps){
                                        if(ebx4+bs > px && ebx4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³
                                    context.fillRect(ebx4+slow41,eby4+eSpeed4-slow4*2+slow41*1,bs,bs)

                                    if(eby4+bs+eSpeed4-slow4*2+slow41*1 > py && eby4+eSpeed4-slow4*2+slow41*1 < py+ps){
                                        if(ebx4+bs+slow41 > px && ebx4+slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦
                                    context.fillRect(ebx4-slow41,eby4+eSpeed4-slow4*2+slow41*1,bs,bs)

                                    if(eby4+bs+eSpeed4-slow4*2+slow41*1 > py && eby4+eSpeed4-slow4*2+slow41*1 < py+ps){
                                        if(ebx4+bs-slow41 > px && ebx4-slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸‹
                                    context.fillRect(ebx4+slow41/2,eby4+eSpeed4-slow4*2+slow41*3/2,bs,bs)

                                    if(eby4+bs+eSpeed4-slow4*2+slow41*3/2 > py && eby4+eSpeed4-slow4*2+slow41*3/2 < py+ps){
                                        if(ebx4+bs+slow41/2 > px && ebx4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸‹
                                    context.fillRect(ebx4-slow41/2,eby4+eSpeed4-slow4*2+slow41*3/2,bs,bs)

                                    if(eby4+bs+eSpeed4-slow4*2+slow41*3/2 > py && eby4+eSpeed4-slow4*2+slow41*3/2 < py+ps){
                                        if(ebx4+bs-slow41/2 > px && ebx4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸Š
                                    context.fillRect(ebx4+slow41/2,eby4+eSpeed4-slow4*2+slow41/2,bs,bs)

                                    if(eby4+bs+eSpeed4-slow4*2+slow41/2 > py && eby4+eSpeed4-slow4*2+slow41/2 < py+ps){
                                        if(ebx4+bs+slow41/2 > px && ebx4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸Š
                                    context.fillRect(ebx4-slow41/2,eby4+eSpeed4-slow4*2+slow41/2,bs,bs)

                                    if(eby4+bs+eSpeed4-slow4*2+slow41/2 > py && eby4+eSpeed4-slow4*2+slow41/2 < py+ps){
                                        if(ebx4+bs-slow41/2 > px && ebx4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                            //ä¸‹----------
                                context.fillStyle = "cyan"
                                //ä¸‹ã‚ã‚“ã®ã‹ã‚ˆ
                                context.fillRect(ebx4,eby4+eSpeed4+slow41*2,bs,bs)

                                if(eby4+bs+eSpeed4+slow41*2 > py && eby4+eSpeed4+slow41*2 < py+ps){
                                        if(ebx4+bs > px && ebx4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //ä¸Š
                                context.fillRect(ebx4,eby4+eSpeed4-slow41*2+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41*2+slow41*2 > py && eby4+eSpeed4-slow41*2+slow41*2 < py+ps){
                                        if(ebx4+bs > px && ebx4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³???
                                context.fillRect(ebx4+slow41,eby4+eSpeed4-slow41*1+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41*1+slow41*2 > py && eby4+eSpeed4-slow41*1+slow41*2 < py+ps){
                                        if(ebx4+bs+slow41 > px && ebx4+slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦???
                                context.fillRect(ebx4-slow41,eby4+eSpeed4-slow41*1+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41*1+slow41*2 > py && eby4+eSpeed4-slow41*1+slow41*2 < py+ps){
                                        if(ebx4+bs-slow41 > px && ebx4-slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸‹
                                context.fillRect(ebx4+slow41/2,eby4+eSpeed4-slow41*3/2+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41*3/2+slow41*2 > py && eby4+eSpeed4-slow41*3/2+slow41*2 < py+ps){
                                        if(ebx4+bs+slow41/2 > px && ebx4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸‹
                                context.fillRect(ebx4-slow41/2,eby4+eSpeed4-slow41*3/2+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41*3/2+slow41*2 > py && eby4+eSpeed4-slow41*3/2+slow41*2 < py+ps){
                                        if(ebx4+bs-slow41/2 > px && ebx4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸Š
                                context.fillRect(ebx4+slow41/2,eby4+eSpeed4-slow41/2+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41/2+slow41*2 > py && eby4+eSpeed4-slow41/2+slow41*2 < py+ps){
                                        if(ebx4+bs+slow41/2 > px && ebx4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸Š
                                context.fillRect(ebx4-slow41/2,eby4+eSpeed4-slow41/2+slow41*2,bs,bs)//ä¸‹

                                if(eby4+bs+eSpeed4-slow41/2+slow41*2 > py && eby4+eSpeed4-slow41/2+slow41*2 < py+ps){
                                        if(ebx4+bs-slow41/2 > px && ebx4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }

                            //å³----------
                                context.fillStyle = "violet"
                                //å³ã‚ã‚‹ã®ã‹ã‚ˆ
                                context.fillRect(ebx4+slow4+slow41,eby4+eSpeed4-slow4+slow41*1,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*1 > py && eby4+eSpeed4-slow4+slow41*1 < py+ps){
                                        if(ebx4+bs+slow4+slow41 > px && ebx4+slow4+slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //ä¸‹
                                context.fillRect(ebx4+slow4,eby4+eSpeed4-slow4+slow41*2,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*2 > py && eby4+eSpeed4-slow4+slow41*2 < py+ps){
                                        if(ebx4+bs+slow4 > px && ebx4+slow4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //ä¸Š
                                context.fillRect(ebx4+slow4,eby4+eSpeed4-slow4+slow41,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41 > py && eby4+eSpeed4-slow4+slow41 < py+ps){
                                        if(ebx4+bs+slow4 > px && ebx4+slow4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦
                                context.fillRect(ebx4+slow4-slow41,eby4+eSpeed4-slow4+slow41*1,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*1 > py && eby4+eSpeed4-slow4+slow41*1 < py+ps){
                                        if(ebx4+bs+slow4-slow41 > px && ebx4+slow4-slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸‹
                                context.fillRect(ebx4+slow4+slow41/2,eby4+eSpeed4-slow4+slow41*3/2,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*3/2 > py && eby4+eSpeed4-slow4+slow41*3/2 < py+ps){
                                        if(ebx4+bs+slow4+slow41/2 > px && ebx4+slow4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸‹
                                context.fillRect(ebx4+slow4-slow41/2,eby4+eSpeed4-slow4+slow41*3/2,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*3/2 > py && eby4+eSpeed4-slow4+slow41*3/2 < py+ps){
                                        if(ebx4+bs+slow4-slow41/2 > px && ebx4+slow4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸Š
                                context.fillRect(ebx4+slow4+slow41/2,eby4+eSpeed4-slow4+slow41/2,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41/2 > py && eby4+eSpeed4-slow4+slow41/2 < py+ps){
                                        if(ebx4+bs+slow4+slow41/2 > px && ebx4+slow4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸Š
                                context.fillRect(ebx4+slow4-slow41/2,eby4+eSpeed4-slow4+slow41/2,bs,bs)//å³ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41/2 > py && eby4+eSpeed4-slow4+slow41/2 < py+ps){
                                        if(ebx4+bs+slow4-slow41/2 > px && ebx4+slow4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                            //å·¦----------
                                context.fillStyle = "#00ced1"
                                //å·¦ãªã—
                                context.fillRect(ebx4-slow4-slow41,eby4+eSpeed4-slow4+slow41*1,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*1 > py && eby4+eSpeed4-slow4+slow41*1 < py+ps){
                                        if(ebx4+bs-slow4-slow41 > px && ebx4-slow4-slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //ä¸‹
                                context.fillRect(ebx4-slow4,eby4+eSpeed4-slow4+slow41*2,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*2 > py && eby4+eSpeed4-slow4+slow41*2 < py+ps){
                                        if(ebx4+bs-slow4 > px && ebx4-slow4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //ä¸Š
                                context.fillRect(ebx4-slow4,eby4+eSpeed4-slow4+slow41,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41 > py && eby4+eSpeed4-slow4+slow41 < py+ps){
                                        if(ebx4+bs-slow4 > px && ebx4-slow4 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³
                                context.fillRect(ebx4-slow4+slow41,eby4+eSpeed4-slow4+slow41*1,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*1 > py && eby4+eSpeed4-slow4+slow41*1 < py+ps){
                                        if(ebx4+bs-slow4+slow41 > px && ebx4-slow4+slow41 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸‹
                                context.fillRect(ebx4-slow4+slow41/2,eby4+eSpeed4-slow4+slow41*3/2,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*3/2 > py && eby4+eSpeed4-slow4+slow41*3/2 < py+ps){
                                        if(ebx4+bs-slow4+slow41/2 > px && ebx4-slow4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸‹
                                context.fillRect(ebx4-slow4-slow41/2,eby4+eSpeed4-slow4+slow41*3/2,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41*3/2 > py && eby4+eSpeed4-slow4+slow41*3/2 < py+ps){
                                        if(ebx4+bs-slow4-slow41/2 > px && ebx4-slow4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å³ä¸Š
                                context.fillRect(ebx4-slow4+slow41/2,eby4+eSpeed4-slow4+slow41/2,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41/2 > py && eby4+eSpeed4-slow4+slow41/2 < py+ps){
                                        if(ebx4+bs-slow4+slow41/2 > px && ebx4-slow4+slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }
                                //å·¦ä¸Š
                                context.fillRect(ebx4-slow4-slow41/2,eby4+eSpeed4-slow4+slow41/2,bs,bs)//å·¦ eSpeed4-slow = 0 y ã¯åœæ­¢ã™ã‚‹

                                if(eby4+bs+eSpeed4-slow4+slow41/2 > py && eby4+eSpeed4-slow4+slow41/2 < py+ps){
                                        if(ebx4+bs-slow4-slow41/2 > px && ebx4-slow4-slow41/2 < px+ps){
                                            pHP-=1
                                        }
                                    }

                        }
                    }else{
                        r401 -= 0.016
                    }
                    requestAnimationFrame(bulletAnimation4)
                }else{
                    finished4 = true
                    count4 = 1
                }
            }
            bulletAnimation4()
        }

        function eShot4b(){
            r41 = Math.random()
            eSpeed4b = 0
            eby4b = ey4
            ebx4b = ex4
            slow4b = 0
            LockCoin = false
            function bulletAnimation4b(){
                //ã‚¹ã‚³ã‚¢ã‚³ã‚¤ãƒ³
                if(LockCoin == false){
                    context.fillStyle = "gold"
                    context.fillRect(ebx4b,eby4b+eSpeed4b/2,bs*2,bs*2)
                    context.fillStyle = "white"
                    context.font = ts*2+"px bold serif"//æ–‡å­—ã‚µã‚¤ã‚ºã®å¤‰æ•°æŒ‡å®š
                    context.fillText("ï¿¥",ebx4b,eby4b+eSpeed4b/2+bs*1.8)
                    if(eby4b+eSpeed4b/2+bs*2 > py && eby4b+eSpeed4b/2 < py+ps){//ã‚³ã‚¤ãƒ³ã®å½“ãŸã‚Šåˆ¤å®š
                        if(ebx4b+bs*2 > px && ebx4b < px+ps){
                            score+=60
                            LockCoin = true
                        }
                    }
                }

                if(eHP4 > 0 && eby4b+eSpeed4b < ch){
                    eSpeed4b+=cw*0.004
                    if(count4 == 1){
                        context.fillStyle = "orange"
                    }else if(count4 == 2){
                        context.fillStyle = "lime"
                    }else if(count4 == 3){
                        context.fillStyle = "aqua"
                    }else{
                        context.fillStyle = "yellow"
                    }
                    context.fillRect(ebx4b,eby4b+eSpeed4b,bs,bs)//å¼¾å¹•1ä¸‹

                    if(eby4b+eSpeed4b+bs > py && eby4b+eSpeed4b < py+ps){
                        if(ebx4b+bs > px && ebx4b < px+ps){
                            pHP-=1
                        }
                    }



                    if(r41*ch*0.5 < eby4b+eSpeed4b){
                        slow4b += cw*0.004//å¼¾å¹•1ã¨åå¯¾å‘ãã«ç§»å‹•ã™ã‚‹ã®ã§ *2 ã—ãŸã‚‰ã¡ã‚‡ã†ã©åŒã˜é€Ÿåº¦
                        context.fillRect(ebx4b,eby4b+eSpeed4b-slow4b,bs,bs)//ä¸Š

                        if(eby4b+eSpeed4b-slow4b+bs > py && eby4b+eSpeed4b-slow4b < py+ps){
                            if(ebx4b+bs > px && ebx4b < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b-slow4b/2,eby4b+eSpeed4b-slow4b/2,bs,bs)//å·¦ slow4b/2 = eSpeed4b ãªã®ã§ y ã¯æ­¢ã¾ã‚‹

                        if(eby4b+eSpeed4b-slow4b/2+bs > py && eby4b+eSpeed4b-slow4b/2 < py+ps){
                            if(ebx4b-slow4b/2+bs > px && ebx4b-slow4b/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b-slow4b/4,eby4b+eSpeed4b-slow4b/4*3,bs,bs)//å·¦ä¸Š eSpeed4b = slow4b /2 eSpeed4b-slow4b = -slow4b /2 ã«ã—ãŸã„ã®ã§ /4*3 è¨ˆç®—ã—ãŸã‚‰ãªã‚‹

                        if(eby4b+eSpeed4b-slow4b/4*3+bs > py && eby4b+eSpeed4b-slow4b/4*3 < py+ps){
                            if(ebx4b-slow4b/4+bs > px && ebx4b-slow4b/4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b-slow4b/4,eby4b+eSpeed4b-slow4b/4,bs,bs)//å·¦ä¸‹ å¼¾ã®ç¬é–“ç§»å‹•ã‚’é¿ã‘ã‚‹ãŸã‚ã«åŸç‚¹ã«ãªã‚‹ eSpeed4b ã¯ã„ã˜ã‚‰ã‚Œãªã„

                        if(eby4b+eSpeed4b-slow4b/4+bs > py && eby4b+eSpeed4b-slow4b/4 < py+ps){
                            if(ebx4b-slow4b/4+bs > px && ebx4b-slow4b/4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b+slow4b/2,eby4b+eSpeed4b-slow4b/2,bs,bs)//å³ slow4b/2 = eSpeed4b ãªã®ã§ y ã¯æ­¢ã¾ã‚‹

                        if(eby4b+eSpeed4b-slow4b/2+bs > py && eby4b+eSpeed4b-slow4b/2 < py+ps){
                            if(ebx4b+slow4b/2+bs > px && ebx4b+slow4b/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b+slow4b/4,eby4b+eSpeed4b-slow4b/4*3,bs,bs)//å³ä¸Š

                        if(eby4b+eSpeed4b-slow4b/4*3+bs > py && eby4b+eSpeed4b-slow4b/4*3 < py+ps){
                            if(ebx4b+slow4b/4+bs > px && ebx4b+slow4b/4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b+slow4b/4,eby4b+eSpeed4b-slow4b/4,bs,bs)//å³ä¸‹

                        if(eby4b+eSpeed4b-slow4b/4+bs > py && eby4b+eSpeed4b-slow4b/4 < py+ps){
                            if(ebx4b+slow4b/4+bs > px && ebx4b+slow4b/4 < px+ps){
                                pHP-=1
                            }
                        }

                    }

                    finished4b = false//eShot4b()ã‚’å®Ÿè¡Œã—ã¦ã‚‹é–“ã¯ä»–ã®å¼¾å¹•ç”Ÿæˆé–¢æ•°ã‚’å‘¼ã³å‡ºã•ãªã„
                    requestAnimationFrame(bulletAnimation4b)
                }else{
                    finished4b = true
                    if(count4 > 4){
                        count4 = 0
                    }else{
                        count4 += 1
                    }

                }
            }
            bulletAnimation4b()
        }

        function eShot4b2(){
            r41b = Math.random()
            eSpeed4b2 = 0
            eby4b2 = ey4
            ebx4b2 = ex4
            slow4b2 = 0
            function bulletAnimation4b2(){
                if(eHP4 > 0 && eby4b2+eSpeed4b2 < ch){
                    eSpeed4b2+=cw*0.004
                    if(count4b == 1){
                        context.fillStyle = "orange"
                    }else if(count4b == 2){
                        context.fillStyle = "lime"
                    }else if(count4b == 3){
                        context.fillStyle = "aqua"
                    }else{
                        context.fillStyle = "yellow"
                    }
                    context.fillRect(ebx4b2,eby4b2+eSpeed4b2,bs,bs)//å¼¾å¹•1ä¸‹

                    if(eby4b2+eSpeed4b2+bs > py && eby4b2+eSpeed4b2 < py+ps){
                        if(ebx4b2+bs > px && ebx4b2 < px+ps){
                            pHP-=1
                        }
                    }

                    if(r41b*ch*0.5 < eby4b2+eSpeed4b2){
                        slow4b2 += cw*0.004//å¼¾å¹•1ã¨åå¯¾å‘ãã«ç§»å‹•ã™ã‚‹ã®ã§ *2 ã—ãŸã‚‰ã¡ã‚‡ã†ã©åŒã˜é€Ÿåº¦
                        context.fillRect(ebx4b2,eby4b2+eSpeed4b2-slow4b2,bs,bs)//ä¸Š

                        if(eby4b2+eSpeed4b2-slow4b2+bs > py && eby4b2+eSpeed4b2-slow4b2 < py+ps){
                            if(ebx4b2+bs > px && ebx4b2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b2-slow4b2/2,eby4b2+eSpeed4b2-slow4b2/2,bs,bs)//å·¦ slow4b2/2 = eSpeed4b2 ãªã®ã§ y ã¯æ­¢ã¾ã‚‹

                        if(eby4b2+eSpeed4b2-slow4b2/2+bs > py && eby4b2+eSpeed4b2-slow4b2/2 < py+ps){
                            if(ebx4b2-slow4b2/2+bs > px && ebx4b2-slow4b2/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b2-slow4b2/4,eby4b2+eSpeed4b2-slow4b2/4*3,bs,bs)//å·¦ä¸Š eSpeed4b2 = slow4b2 /2 eSpeed4b2-slow4b2 = -slow4b2 /2 ã«ã—ãŸã„ã®ã§ /4*3 è¨ˆç®—ã—ãŸã‚‰ãªã‚‹

                        if(eby4b2+eSpeed4b2-slow4b2/4*3+bs > py && eby4b2+eSpeed4b2-slow4b2/4*3 < py+ps){
                            if(ebx4b2-slow4b2/4+bs > px && ebx4b2-slow4b2/4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b2-slow4b2/4,eby4b2+eSpeed4b2-slow4b2/4,bs,bs)//å·¦ä¸‹ å¼¾ã®ç¬é–“ç§»å‹•ã‚’é¿ã‘ã‚‹ãŸã‚ã«åŸç‚¹ã«ãªã‚‹ eSpeed4b2 ã¯ã„ã˜ã‚‰ã‚Œãªã„

                        if(eby4b2+eSpeed4b2-slow4b2/4+bs > py && eby4b2+eSpeed4b2-slow4b2/4 < py+ps){
                            if(ebx4b2-slow4b2/4+bs > px && ebx4b2-slow4b2/4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b2+slow4b2/2,eby4b2+eSpeed4b2-slow4b2/2,bs,bs)//å³ slow4b2/2 = eSpeed4b2 ãªã®ã§ y ã¯æ­¢ã¾ã‚‹

                        if(eby4b2+eSpeed4b2-slow4b2/2+bs > py && eby4b2+eSpeed4b2-slow4b2/2 < py+ps){
                            if(ebx4b2+slow4b2/2+bs > px && ebx4b2+slow4b2/2 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b2+slow4b2/4,eby4b2+eSpeed4b2-slow4b2/4*3,bs,bs)//å³ä¸Š

                        if(eby4b2+eSpeed4b2-slow4b2/4*3+bs > py && eby4b2+eSpeed4b2-slow4b2/4*3 < py+ps){
                            if(ebx4b2+slow4b2/4+bs > px && ebx4b2+slow4b2/4 < px+ps){
                                pHP-=1
                            }
                        }

                        context.fillRect(ebx4b2+slow4b2/4,eby4b2+eSpeed4b2-slow4b2/4,bs,bs)//å³ä¸‹

                        if(eby4b2+eSpeed4b2-slow4b2/4+bs > py && eby4b2+eSpeed4b2-slow4b2/4 < py+ps){
                            if(ebx4b2+slow4b2/4+bs > px && ebx4b2+slow4b2/4 < px+ps){
                                pHP-=1
                            }
                        }

                    }

                    finished4b2 = false//eShot4b()ã‚’å®Ÿè¡Œã—ã¦ã‚‹é–“ã¯ä»–ã®å¼¾å¹•ç”Ÿæˆé–¢æ•°ã‚’å‘¼ã³å‡ºã•ãªã„
                    requestAnimationFrame(bulletAnimation4b2)
                }else{
                    finished4b2 = true
                    if(count4b > 4){
                        count4b = 0
                    }else{
                        count4b += 1
                    }

                }
            }
            bulletAnimation4b2()
        }

        function roop2(){
            context.fillStyle = "skyblue"//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®è‰²
            context.fillRect(px,py,ps,ps)//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®æç”»

            //CPU0------------------------------------------------------------------------------------------------
            if(Lock == false){//CPU0ãŒç”Ÿãã¦ã„ãŸã‚‰

                //HPãƒãƒ¼-----------------------------------------
                context.fillStyle = "lime"
                context.globalAlpha = 0.5//é€æ˜åº¦
                //HPãƒãƒ¼èƒŒæ™¯
                context.fillRect(ex,ey-cw*0.01*2,50*cw*0.001,cw*0.01)
                context.globalAlpha = 1
                context.fillRect(ex,ey-cw*0.01*2,eHP*cw*0.001,cw*0.01)
                context.fillStyle = "orange"

                if(LR == "left"){
                    if(ex > 0){
                        ex = ex - cw*0.002//ç”»é¢ç«¯ã«CPU0ãŒåˆ°é”ã—ã¦ãªã‹ã£ãŸã‚‰CPU0ã‚’å·¦ã«é€²ã¾ã›ã‚‹
                    }else{
                        LR = "right"
                    }
                }else{//å³ã«é€²ã¾ã›ã‚‹å‡¦ç†â†“
                    ex = ex + 2//CPU0ã‚’å³ã«é€²ã¾ã›ã‚‹
                    if(ex+ps >= cw){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚ºãŒç”»é¢æ¨ªã‚µã‚¤ã‚ºä»¥ä¸Šã ã£ãŸã‚‰ã€€â†’ã€€ç”»é¢ã®ç«¯ã«CPU0ãŒã¶ã¤ã‹ã£ãŸã‚‰æ–¹å‘ã‚’å¤‰ãˆã‚‹
                        LR = "left"
                    }else{
                        ex = ex + cw*0.002//ç”»é¢ç«¯ã«CPU0ãŒåˆ°é”ã—ã¦ãªã‹ã£ãŸã‚‰CPU0ã‚’å³ã«é€²ã¾ã›ã‚‹
                    }
                }
                context.fillRect(ex,ey,es,es)//CPU0ã®æç”»
            }


            //CPU0â†‘CPU2â†“
            if(Lock2 == false){//killæ•°ãŒ 1 ä»¥ä¸Šãªã‚‰ CPU2ãŒç”Ÿãã¦ãŸã‚‰
                //HPãƒãƒ¼-----------------------------------------
                context.fillStyle = "lime"
                context.globalAlpha = 0.5//é€æ˜åº¦
                //HPãƒãƒ¼èƒŒæ™¯
                context.fillRect(ex2,ey2-cw*0.01*2,75*cw*0.001,cw*0.01)
                context.globalAlpha = 1
                context.fillRect(ex2,ey2-cw*0.01*2,eHP2*cw*0.001,cw*0.01)
                if(LR2 == "left"){
                    if(ex2 > 0){
                        if(K == false){
                            ex2 = ex2 - cw*0.005//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒé«˜é€Ÿç§»å‹•ã—ã¦ãªã‹ã£ãŸã‚‰è¢«å¼¾ã‚’é¿ã‘ã‚‹ãŸã‚ã«CPU2ã‚’é€Ÿãå‹•ã‹ã™
                        }else{
                            ex2 = ex2 - cw*0.003//ç”»é¢ç«¯ã«CPU2ãŒåˆ°é”ã—ã¦ãªã‹ã£ãŸã‚‰CPU2ã‚’å·¦ã«é€²ã¾ã›ã‚‹
                        }
                    }else{
                        LR2 = "right"
                    }
                }else{//å³ã«é€²ã¾ã›ã‚‹å‡¦ç†â†“
                    ex2 = ex2 + 2//CPU2ã‚’å³ã«é€²ã¾ã›ã‚‹
                    if(ex2+ps >= cw){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚µã‚¤ã‚ºãŒç”»é¢æ¨ªã‚µã‚¤ã‚ºä»¥ä¸Šã ã£ãŸã‚‰ã€€â†’ã€€ç”»é¢ã®ç«¯ã«CPU2ãŒã¶ã¤ã‹ã£ãŸã‚‰æ–¹å‘ã‚’å¤‰ãˆã‚‹
                        LR2 = "left"
                    }else{
                        if(K == false){
                            ex2 = ex2 + cw*0.005//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒé«˜é€Ÿç§»å‹•ã—ã¦ãªã‹ã£ãŸã‚‰è¢«å¼¾ã‚’é¿ã‘ã‚‹ãŸã‚ã«CPU2ã‚’é€Ÿãå‹•ã‹ã™
                        }
                        ex2 = ex2 + cw*0.003//ç”»é¢ç«¯ã«CPU2ãŒåˆ°é”ã—ã¦ãªã‹ã£ãŸã‚‰CPU2ã‚’å³ã«é€²ã¾ã›ã‚‹
                    }
                }

                context.fillStyle = "red"
                context.fillRect(ex2,ey2,es2,es2)
            }

            //CPU3,3b,4â†“
            if(Lock3 == false){//killæ•°ãŒ2ä»¥ä¸Š4ä»¥ä¸‹
                //HPãƒãƒ¼-----------------------------------------
                context.fillStyle = "lime"
                context.globalAlpha = 0.5//é€æ˜åº¦
                //HPãƒãƒ¼èƒŒæ™¯
                context.fillRect(ex3,ey3-cw*0.01*2,40*cw*0.001,cw*0.01)
                context.globalAlpha = 1
                context.fillRect(ex3,ey3-cw*0.01*2,eHP3*cw*0.001,cw*0.01)

                if(LR3 == "left"){
                    if(ex3 > 0){
                        ex3 -= cw*0.002
                    }else{
                        LR3 = "right"
                    }
                }else{//å³ã«é€²ã¾ã›ã‚‹å‡¦ç†â†“
                    if(ex3+es3 >= ex3b){//CPU3 ãŒ CPU3bã«ã¶ã¤ã‹ã£ãŸã‚‰ é€²è¡Œæ–¹å‘ã‚’å¤‰ãˆã‚‹ CPU3ã¯å³ã«é€²ã‚€æ™‚ã—ã‹ CPU3b ã¨ã¶ã¤ã‹ã‚‰ãªã„
                        LR3 = "left"
                    }else{
                        ex3 += cw*0.002
                    }
                }

                context.fillStyle = "deepskyblue"
                context.fillRect(ex3,ey3,es3,es3)
            }
            if(Lock3b == false){
                //HPãƒãƒ¼-----------------------------------------
                context.fillStyle = "lime"
                context.globalAlpha = 0.5//é€æ˜åº¦
                //HPãƒãƒ¼èƒŒæ™¯
                context.fillRect(ex3b,ey3-cw*0.01*2,40*cw*0.001,cw*0.01)
                context.globalAlpha = 1
                context.fillRect(ex3b,ey3-cw*0.01*2,eHP3b*cw*0.001,cw*0.01)
                if(LR3b == "left"){
                    if(ex3b <= ex3+es3){//CPU3b ãŒ CPU3ã«ã¶ã¤ã‹ã£ãŸã‚‰ é€²è¡Œæ–¹å‘ã‚’å¤‰ãˆã‚‹ CPU3bã¯å·¦ã«é€²ã‚€æ™‚ã—ã‹ CPU3 ã¨ã¶ã¤ã‹ã‚‰ãªã„
                        LR3b = "rihgt"
                    }else{
                        ex3b -= cw*0.002
                    }
                }else{//å³ã«é€²ã¾ã›ã‚‹å‡¦ç†â†“
                    if(ex3b+es3b < cw){
                        ex3b += cw*0.002
                    }else{
                        LR3b = "left"
                    }
                }
                context.fillStyle = "deepskyblue"
                context.fillRect(ex3b,ey3,es3b,es3b)
            }
        //CPU2â†‘-----------------------------------------------------------------------------------------------


            //CPU4â†“
            if(Lock4 == false){//CPU3,3bãŒæ­»ã‚“ã ã‚‰å®Ÿè¡Œå¯èƒ½
                //HPãƒãƒ¼-----------------------------------------
                context.fillStyle = "lime"
                context.globalAlpha = 0.5//é€æ˜åº¦
                //HPãƒãƒ¼èƒŒæ™¯
                context.fillRect(ex4,ey4-cw*0.01*2,100*cw*0.001,cw*0.01)
                context.globalAlpha = 1
                context.fillRect(ex4,ey4-cw*0.01*2,eHP4*cw*0.001,cw*0.01)
                if(LR4 == "left"){
                    if(ex4 > 0){
                        if(K == false){
                            ex4 = ex4 - cw*0.005//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒé«˜é€Ÿç§»å‹•ã—ã¦ãªã‹ã£ãŸã‚‰è¢«å¼¾ã‚’é¿ã‘ã‚‹ãŸã‚ã«CPU4ã‚’é€Ÿãå‹•ã‹ã™
                        }else{
                            ex4 = ex4 - cw*0.003//ç”»é¢ç«¯ã«CPU4ãŒåˆ°é”ã—ã¦ãªã‹ã£ãŸã‚‰CPU4ã‚’å·¦ã«é€²ã¾ã›ã‚‹
                        }
                    }else{
                        LR4 = "right"
                    }
                }else{//å³ã«é€²ã¾ã›ã‚‹å‡¦ç†â†“
                    if(ex4+es4 > cw){
                        LR4 = "left"
                    }else{
                        if(K == false){
                            ex4 = ex4 + cw*0.005//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒé«˜é€Ÿç§»å‹•ã—ã¦ãªã‹ã£ãŸã‚‰è¢«å¼¾ã‚’é¿ã‘ã‚‹ãŸã‚ã«CPU4ã‚’é€Ÿãå‹•ã‹ã™
                        }
                        ex4 = ex4 + cw*0.003//ç”»é¢ç«¯ã«CPU4ãŒåˆ°é”ã—ã¦ãªã‹ã£ãŸã‚‰CPU4ã‚’å³ã«é€²ã¾ã›ã‚‹
                    }
                }
                context.fillRect(ex4,ey4,es4,es4)//CPU4ã®æç”»

            }


            //é–“æ¥çš„ã«wasdãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’åˆ¤å®šã™ã‚‹
            if(W == true){
                //wãŒæŠ¼ã•ã‚ŒãŸã‚‰ ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ ã® y åº§ç”¨ã‚’ - ã™ã‚‹
                //ç”»é¢ä¸Šæ–¹å‘ã¯ -
                py = py - speed01
            }
            if(A == true){
                //aãŒæŠ¼ã•ã‚ŒãŸã‚‰ ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ ã® x åº§ç”¨ã‚’ - ã™ã‚‹
                px = px - speed01
            }
            if(S == true){
                //sãŒæŠ¼ã•ã‚ŒãŸã‚‰ ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ ã® y åº§ç”¨ã‚’ + ã™ã‚‹
                //ç”»é¢ä¸‹æ–¹å‘ã¯ +
                py = py + speed01
            }
            if(D == true){
                //dãŒæŠ¼ã•ã‚ŒãŸã‚‰ ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ ã® x åº§ç”¨ã‚’ + ã™ã‚‹
                px = px + speed01
            }

            //UIæ–‡å­—â†“
            context.fillStyle = "white"//æ–‡å­—å›³å½¢è‰²
            context.font = ts+"px bold serif"//æ–‡å­—ã‚µã‚¤ã‚ºã®å¤‰æ•°æŒ‡å®š
            context.fillText("ã‚¹ã‚³ã‚¢:"+score,tx,ty)//ã‚¹ã‚³ã‚¢ã®æç”»
            context.fillText(tMin+"åˆ†:"+tSec+"ç§’",tx+tSpace,ty)//æ™‚é–“ã®æç”»
            context.fillText("HP:"+pHP,tx2,ty)

            if(pHP >= 0){//ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ãŒç”Ÿãã¦ã„ã‚‹é™ã‚Šå‡¦ç†ã‚’ç¶šã‘ã‚‹
                requestAnimationFrame(roop2)//èª¬æ˜ã¯ 99 è¡Œå‚ç…§
            }else{
                if(fix == 0){//ã‚²ãƒ¼ãƒ çµ‚äº†ã®é€šçŸ¥ãŒåˆã‚ã¦ãªã‚‰
                    scoreOutput()//ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã—ã¦å‡ºåŠ›ã™ã‚‹é–¢æ•°
                    fix=1//äºŒåº¦å‘¼ã³å‡ºã•ã‚Œã‚‹ã®ã‚’é˜²ã
                }
            }

            //HPãƒãƒ¼
            if(pHP > 25){
                context.fillStyle = "lime"//pHPãŒåŠåˆ†ä»¥ä¸Šãªã‚‰ç·‘
            }else if(pHP > 10){
                context.fillStyle = "orange"//pHP11ä»¥ä¸Š25æœªæº€ã¯ã‚ªãƒ¬ãƒ³ã‚¸
            }else{
                context.fillStyle = "red"//pHP10ä»¥ä¸‹ã¯èµ¤
            }

            context.globalAlpha = "0.1"//HPãƒãƒ¼ã®èƒŒæ™¯ é€æ˜åº¦ã‚’æŒ‡å®šã—ã¦ã‚‹
            context.fillRect(tx2,ty,50*cw*0.0018,cw*0.01)//cw â€»canvas wide ã‚’æ›ã‘ã‚‹ã®ã¯ ã©ã‚“ãªç”»é¢ã‚µã‚¤ã‚ºã«ã‚‚ç›¸å¯¾çš„ãªå¤§ãã•ã§æç”»ã™ã‚‹ãŸã‚
            context.globalAlpha = "1"//HPãƒãƒ¼æœ¬ä½“ã®æç”» ä¸é€æ˜
            context.fillRect(tx2,ty,pHP*cw*0.0018,cw*0.01)//pHP ã‚’æ›ã‘ã‚‹ã“ã¨ã§ pHP ã®å¤‰åŒ–ã«å¿œã˜ã¦ãƒãƒ¼ã® x ã‚µã‚¤ã‚ºãŒå¤‰ã‚ã‚‹
        }//roop2()çµ‚äº†



        function scoreOutput() {
            //ã‚¹ã‚³ã‚¢ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã«å‡ºåŠ›ã™ã‚‹
            if(eHP4 <= 0){
                score = score+pHP+200-tSec2//ã‚¯ãƒªã‚¢ã—ãŸã‚‰æ®‹ã‚ŠHPã¨ã‚¯ãƒªã‚¢æ™‚é–“ã‚’é…æ…®ã—ã¦ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã™ã‚‹
            }else{
                context.font = ts*5+"px bold serif"//æ–‡å­—ã‚µã‚¤ã‚ºã®å¤‰æ•°æŒ‡å®š
                context.fillStyle = "white"
                context.fillText("GameOver :(",ts,ch*0.5-ts)

            }
            let blob = new Blob(['ç–²ã‚ŒãŸla..'+score],{type:"text/plan"});//ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
            let link = document.createElement('a');//HTMLaã‚¿ã‚°ã®ä½œæˆ
            link.href = URL.createObjectURL(blob);
            link.download = 'åç„¡ã—ã‚¹ã‚³ã‚¢:'+score+'.txt';
            link.click();
            alert("GameOver")
        }

    </script>
    <!--
    Thanks for playing and seeing!!:D
    éŠã‚“ã§ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ï¼
    ã‚³ãƒ¼ãƒ‰è¦‹ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ï¼

              -9090909090-
            90=-        -90=
          90=   =909090-   90=
        90=   *90     *9=   -90
       -90-   =90     -00-   90-
       -90    =90     -90=   90=
       =90    *90-    -00=   90=
       =89     *=90909090=   90=
       -90-           =90-   90-
       -99=          90*    -90
         *90=  *=9090*    =90=
            909-        -90=
           ã€€ -9090909909-      2021 â‘¨ãªäººProject.

    -->
</html>
